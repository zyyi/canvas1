<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>cnavas绘制圆弧</title>
</head>
<body>
<canvas></canvas>

<script>

    var canvas = document.querySelector("canvas");
    canvas.width = 600;
    canvas.height = 400;
    canvas.style.border = "1px solid #f00";
    var context = canvas.getContext("2d");

    // 横轴
    context.beginPath();
    context.moveTo(0, canvas.height/2);
    context.lineTo(canvas.width, canvas.height/2);
    context.stroke();

    // 纵轴
    context.beginPath();
    context.moveTo(canvas.width/2, 0);
    context.lineTo(canvas.width/2, canvas.height);
    context.stroke();


    // 准备数据
    // 用饼图表现班级的年龄分布图数据的可视化
    //   15-20岁  12
    //   20-25岁  40
    //   25-30岁  22
    //   30-35岁  10
    //   35-50岁  14


    // 依赖数据
    var data = [12, 40, 22, 10, 14];

    // 获取随机颜色
    function getRandomColor() {
        var r = Math.floor(Math.random() * 256);
        var g = Math.floor(Math.random() * 256);
        var b = Math.floor(Math.random() * 256);
        return "rgb("+r+","+g+","+b+")";
    }


    // 算总和
    var total = 0;
    data.forEach(function (item) {
        total = total + item;
    })

    var startAngle = 0;
    data.forEach(function (item) {
        context.beginPath();
        context.moveTo(canvas.width/2, canvas.height/2);
        context.arc(canvas.width/2, canvas.height/2, 150, startAngle, startAngle + item/total * 2 * Math.PI);
        context.closePath();
        context.fillStyle = getRandomColor();
        context.fill();

        startAngle = startAngle + item/total*2*Math.PI;
    })






</script>
</body>
</html>